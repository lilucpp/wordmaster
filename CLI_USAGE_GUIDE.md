# WordMaster CLI ä½¿ç”¨æŒ‡å—

## å¿«é€Ÿå¼€å§‹

### 1. æ„å»º CLI å·¥å…·

```bash
# æ„å»ºé¡¹ç›®
./scripts/build.sh

# CLI å·¥å…·ä½ç½®
cd build
./wordmaster_cli --help
```

### 2. å‡†å¤‡æ•°æ®æ–‡ä»¶

å°†æ‚¨çš„è¯åº“æ•°æ®æ–‡ä»¶æ”¾åœ¨åŒä¸€ç›®å½•ï¼š

```bash
# ç¤ºä¾‹æ–‡ä»¶ç»“æ„
/path/to/data/
â”œâ”€â”€ 1764429285470_recommend_word.json  # è¯åº“å…ƒæ•°æ®
â”œâ”€â”€ CET4_T.json                        # CET-4 å•è¯
â”œâ”€â”€ CET6_T.json                        # CET-6 å•è¯
â””â”€â”€ ... (å…¶ä»–è¯åº“æ–‡ä»¶)
```

---

## å‘½ä»¤è¯¦è§£

### å¯¼å…¥è¯åº“

**å‘½ä»¤ï¼š**
```bash
./wordmaster_cli --import /path/to/1764429285470_recommend_word.json
```

**åŠŸèƒ½ï¼š**
- è§£æè¯åº“å…ƒæ•°æ® JSON
- å¯¼å…¥æ‰€æœ‰è¯åº“ä¿¡æ¯
- æ‰¹é‡å¯¼å…¥å•è¯æ•°æ®

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
WordMaster CLI v1.0.0
æ•°æ®åº“: wordmaster.db
================================================================================
å¼€å§‹å¯¼å…¥è¯åº“...
å…ƒæ•°æ®æ–‡ä»¶: /path/to/1764429285470_recommend_word.json

å¯¼å…¥ç»“æœ:
  çŠ¶æ€: æˆåŠŸ
  æ¶ˆæ¯: æˆåŠŸå¯¼å…¥ 14 ä¸ªè¯åº“ï¼Œå…± 45139 ä¸ªå•è¯
  å¯¼å…¥è¯åº“æ•°: 14
  å¯¼å…¥å•è¯æ•°: 45139
```

**å¯¼å…¥çš„è¯åº“ï¼š**
- CET-4 (2607 è¯)
- CET-6 (2345 è¯)
- ä¸“å›› (4025 è¯)
- ä¸“å…« (12197 è¯)
- è€ƒç ” (3728 è¯)
- TOEFL (4264 è¯)
- IELTS (3575 è¯)
- é«˜è€ƒ3500è¯ (3893 è¯)
- ç¨‹åºå‘˜è¯åº“ (1700 è¯)
- è®¡ç®—æœºä¸“ä¸šè‹±è¯­ (1665 è¯)
- æ–°æ¦‚å¿µ1-4 (3625 è¯)

---

### åˆ—å‡ºæ‰€æœ‰è¯åº“

**å‘½ä»¤ï¼š**
```bash
./wordmaster_cli --list
```

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
è¯åº“åˆ—è¡¨ (å…± 14 ä¸ª):
================================================================================

ID: cet4
åç§°: CET-4
åˆ†ç±»: ä¸­å›½è€ƒè¯•
å•è¯æ•°: 2607
æ¿€æ´»: å¦
æ ‡ç­¾: å¤§å­¦è‹±è¯­ 
--------------------------------------------------------------------------------

ID: cet6
åç§°: CET-6
åˆ†ç±»: ä¸­å›½è€ƒè¯•
å•è¯æ•°: 2345
æ¿€æ´»: å¦
æ ‡ç­¾: å¤§å­¦è‹±è¯­ 
--------------------------------------------------------------------------------
...
```

---

### æŸ¥çœ‹è¯åº“ç»Ÿè®¡

**å‘½ä»¤ï¼š**
```bash
./wordmaster_cli --stats cet4
```

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
è¯åº“ç»Ÿè®¡:
==================================================
è¯åº“: CET-4
æ€»å•è¯æ•°: 2607
å·²å­¦ä¹ : 0
å·²æŒæ¡: 0
è¿›åº¦: 0%
```

---

### æ¿€æ´»è¯åº“

**å‘½ä»¤ï¼š**
```bash
./wordmaster_cli --activate cet4
```

**è¾“å‡ºï¼š**
```
æˆåŠŸæ¿€æ´»è¯åº“: cet4
```

**è¯´æ˜ï¼š**
- åŒæ—¶åªèƒ½æ¿€æ´»ä¸€ä¸ªè¯åº“
- æ¿€æ´»æ–°è¯åº“ä¼šè‡ªåŠ¨å–æ¶ˆä¹‹å‰çš„æ¿€æ´»çŠ¶æ€

---

### æŸ¥çœ‹å•è¯æ ·æœ¬

**å‘½ä»¤ï¼š**
```bash
./wordmaster_cli --samples cet4
```

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
è¯åº“ CET-4 çš„å‰ 10 ä¸ªå•è¯:
================================================================================

1. explosive
   éŸ³æ ‡: ÉªkËˆsplÉ™ÊŠsÉªv / ÉªkËˆsploÊŠsÉªv

2. democracy
   éŸ³æ ‡: dÉªËˆmÉ’krÉ™si / dÉªËˆmÉ‘ËkrÉ™si

3. alcohol
   éŸ³æ ‡: ËˆÃ¦lkÉ™hÉ’l / ËˆÃ¦lkÉ™hÉ”Ël
...
```

---

### æœç´¢å•è¯

**å‘½ä»¤ï¼š**
```bash
./wordmaster_cli --search test
```

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
æœç´¢ç»“æœ (å…± 5 ä¸ª):
================================================================================

å•è¯: test
éŸ³æ ‡: /test/
è¯åº“: cet4
--------------------------------------------------------------------------------

å•è¯: protest
éŸ³æ ‡: /ËˆprÉ™ÊŠtest/
è¯åº“: cet4
--------------------------------------------------------------------------------
...
```

---

### åˆ é™¤è¯åº“

**å‘½ä»¤ï¼š**
```bash
./wordmaster_cli --delete cet4
```

**è¾“å‡ºï¼š**
```
ç¡®å®šè¦åˆ é™¤è¯åº“ "CET-4" å—? (y/N): y
è¯åº“å·²åˆ é™¤ã€‚
```

**è­¦å‘Šï¼š**
- åˆ é™¤è¯åº“ä¼šåŒæ—¶åˆ é™¤æ‰€æœ‰å…³è”çš„å•è¯æ•°æ®
- æ­¤æ“ä½œä¸å¯é€†

---

## å®Œæ•´ä½¿ç”¨æµç¨‹ç¤ºä¾‹

### åœºæ™¯ï¼šå¯¼å…¥çœŸå® CET-4 è¯åº“å¹¶æŸ¥çœ‹

```bash
# 1. å¯¼å…¥è¯åº“
./wordmaster_cli --import ~/Downloads/1764429285470_recommend_word.json

# 2. æŸ¥çœ‹æ‰€æœ‰è¯åº“
./wordmaster_cli --list

# 3. æŸ¥çœ‹ CET-4 ç»Ÿè®¡
./wordmaster_cli --stats cet4

# 4. æŸ¥çœ‹ CET-4 å•è¯æ ·æœ¬
./wordmaster_cli --samples cet4

# 5. æœç´¢ç‰¹å®šå•è¯
./wordmaster_cli --search alcohol

# 6. æ¿€æ´» CET-4 è¯åº“ï¼ˆå‡†å¤‡å­¦ä¹ ï¼‰
./wordmaster_cli --activate cet4
```

---

## é«˜çº§ç”¨æ³•

### ä½¿ç”¨è‡ªå®šä¹‰æ•°æ®åº“

**å‘½ä»¤ï¼š**
```bash
./wordmaster_cli --database /path/to/custom.db --import meta.json
```

**ç”¨é€”ï¼š**
- åˆ›å»ºå¤šä¸ªç‹¬ç«‹çš„è¯åº“æ•°æ®åº“
- æµ‹è¯•å’Œç”Ÿäº§ç¯å¢ƒåˆ†ç¦»

### æ‰¹é‡æ“ä½œè„šæœ¬

**ç¤ºä¾‹è„šæœ¬ï¼š**
```bash
#!/bin/bash
# import_all.sh - æ‰¹é‡å¯¼å…¥å¹¶éªŒè¯

DB="wordmaster.db"
META="/path/to/1764429285470_recommend_word.json"

# å¯¼å…¥
./wordmaster_cli -d $DB --import $META

# éªŒè¯æ¯ä¸ªè¯åº“
for book in cet4 cet6 kaoyan toefl ielts; do
    echo "æ£€æŸ¥è¯åº“: $book"
    ./wordmaster_cli -d $DB --stats $book
    ./wordmaster_cli -d $DB --samples $book
    echo "---"
done
```

---

## æ•°æ®éªŒè¯

### éªŒè¯å¯¼å…¥å®Œæ•´æ€§

```bash
# 1. æ£€æŸ¥è¯åº“æ•°é‡
./wordmaster_cli --list | grep "è¯åº“åˆ—è¡¨"

# 2. éªŒè¯å•è¯æ•°é‡
sqlite3 wordmaster.db "SELECT book_id, COUNT(*) FROM words GROUP BY book_id;"

# 3. æ£€æŸ¥æ•°æ®å®Œæ•´æ€§
sqlite3 wordmaster.db "
SELECT 
    b.id, 
    b.name, 
    b.word_count as expected,
    COUNT(w.id) as actual
FROM books b
LEFT JOIN words w ON b.id = w.book_id
GROUP BY b.id;
"
```

### é¢„æœŸç»“æœ

| è¯åº“ID | åç§° | é¢„æœŸå•è¯æ•° | å®é™…å•è¯æ•° |
|--------|------|-----------|-----------|
| cet4 | CET-4 | 2607 | 2607 |
| cet6 | CET-6 | 2345 | 2345 |
| level4 | ä¸“å›› | 4025 | 4025 |
| level8 | ä¸“å…« | 12197 | 12197 |
| kaoyan | è€ƒç ” | 3728 | 3728 |
| toefl | TOEFL | 4264 | 4264 |
| ielts | IELTS | 3575 | 3575 |

---

## æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: æ‰¾ä¸åˆ°è¯åº“æ–‡ä»¶

**é”™è¯¯ä¿¡æ¯ï¼š**
```
Failed to open file: /path/to/CET4_T.json
```

**è§£å†³æ–¹æ¡ˆï¼š**
- ç¡®ä¿è¯åº“ JSON æ–‡ä»¶å’Œå…ƒæ•°æ®æ–‡ä»¶åœ¨åŒä¸€ç›®å½•
- æ£€æŸ¥æ–‡ä»¶åæ˜¯å¦ä¸ `url` å­—æ®µåŒ¹é…

### é—®é¢˜ 2: æ•°æ®åº“é”å®š

**é”™è¯¯ä¿¡æ¯ï¼š**
```
database is locked
```

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# å…³é—­å…¶ä»–æ­£åœ¨ä½¿ç”¨æ•°æ®åº“çš„è¿›ç¨‹
lsof wordmaster.db

# æˆ–åˆ é™¤æ•°æ®åº“é‡æ–°å¯¼å…¥
rm wordmaster.db
./wordmaster_cli --import meta.json
```

### é—®é¢˜ 3: JSON è§£æå¤±è´¥

**é”™è¯¯ä¿¡æ¯ï¼š**
```
Invalid JSON format: expected array
```

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# éªŒè¯ JSON æ ¼å¼
cat meta.json | jq .

# ç¡®ä¿æ˜¯æ•°ç»„æ ¼å¼
cat meta.json | head -1  # åº”è¯¥çœ‹åˆ° "["
```

---

## æ€§èƒ½æµ‹è¯•

### å¯¼å…¥å¤§å‹è¯åº“

**æµ‹è¯•å‘½ä»¤ï¼š**
```bash
time ./wordmaster_cli --import meta.json
```

**é¢„æœŸæ€§èƒ½ï¼š**
- CET-4 (2607è¯): < 1ç§’
- ä¸“å…« (12197è¯): < 3ç§’
- å…¨éƒ¨14ä¸ªè¯åº“ (45139è¯): < 10ç§’

### æŸ¥è¯¢æ€§èƒ½

```bash
# æœç´¢æµ‹è¯•
time ./wordmaster_cli --search test

# é¢„æœŸ: < 100ms
```

---

## æ•°æ®åº“ç›´æ¥æŸ¥è¯¢

### ä½¿ç”¨ SQLite å‘½ä»¤è¡Œ

```bash
# è¿›å…¥æ•°æ®åº“
sqlite3 wordmaster.db

# æŸ¥è¯¢è¯åº“
sqlite> SELECT id, name, word_count FROM books;

# æŸ¥è¯¢å•è¯
sqlite> SELECT word, phonetic_uk FROM words WHERE book_id='cet4' LIMIT 10;

# é€€å‡º
sqlite> .quit
```

---

## ä¸‹ä¸€æ­¥

âœ… **å·²å®Œæˆï¼š**
- CLI å·¥å…·å®ç°
- çœŸå®æ•°æ®å¯¼å…¥æµ‹è¯•
- æ•°æ®éªŒè¯

ğŸš€ **æ¥ä¸‹æ¥ï¼š**
- å­¦ä¹ åŠŸèƒ½å®ç°
- å¤ä¹ ç³»ç»Ÿå®ç°
- GUI ç•Œé¢å¼€å‘

---

## åé¦ˆ

ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Ÿ
1. æŸ¥çœ‹æ—¥å¿—è¾“å‡º
2. æ£€æŸ¥æ•°æ®åº“æ–‡ä»¶
3. éªŒè¯ JSON æ ¼å¼
4. æäº¤ Issue

Happy Learning! ğŸ“š